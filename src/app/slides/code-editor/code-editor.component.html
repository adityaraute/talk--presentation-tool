<div class="panel-wrapper">
  <div class="panel--title">{{ title }}</div>

  <div class="panel--content-wrapper">
    <div class="panel--files">
      <mat-selection-list role="list">
        <a mat-list-item [routerLink]="" [attr.selected]="file === selected" *ngFor="let file of files;" (click)="fileSelection(file)" class="file">{{ file }}</a>
      </mat-selection-list>
      <mat-selection-list role="list">
        <a mat-list-item [routerLink]="" *ngFor="let trigger of triggers;" (click)="triggerFile(trigger)" class="trigger">{{ trigger.title }}</a>
      </mat-selection-list>
    </div>
    <div class="panel--editor">
      <nu-monaco-editor class="editor" style="height: 100%;" [(ngModel)]="code" [options]="editorOptions"></nu-monaco-editor>
    </div>
    <div #handleScript>
      <div [attr.src]="filepath"></div>
    </div>
  </div>

  <div class="log-wrapper" [class.open]="loggingOpen === true">
    <div class="handle" (click)="toggleLogging()">
      @if (loggingOpen === true) {
        <mat-icon>arrow_right</mat-icon>
      } @else {
        <mat-icon>arrow_left</mat-icon>
      }
    </div>
    @if (loggingOpen === true) {
      <button class="log-clear" mat-flat-button (click)="clearLogging()">Clear</button>
      <div class="log-container">
        <pre [innerHTML]="logs"></pre>
      </div>
    }
  </div>
  @if (!!panel) {
    <div class="display-wrapper" [class.open]="panelOpen === true">
      <div class="handle" (click)="togglePanel()">
        @if (panelOpen === true) {
          <mat-icon>arrow_right</mat-icon>
        } @else {
          <mat-icon>arrow_left</mat-icon>
        }
      </div>
      @if (panelOpen === true) {
        <div class="display-container">
          <div class="hide" id=thought-wrapper><button id=thought-button>Click Me</button></div>
        </div>
      }
    </div>
  }
</div>